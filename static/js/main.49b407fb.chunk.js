(this["webpackJsonpform-order-dish"]=this["webpackJsonpform-order-dish"]||[]).push([[0],{32:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(3),c=a.n(i),r=(a(32),a(5)),o=a(6),l=a(8),h=a(7),p=a(13),d=a.n(p),u=a(25),b=a(11),j=a(9),m=a(26),O=a.n(m),f=a(10),g=(a(57),a(58),a(1)),x={name:"",type:"pizza",pizza:{no_of_slices:1,diameter:8,preparation_time:"00:20:00"},soup:{spiciness_scale:1,preparation_time:"00:10:00"},sandwich:{slices_of_bread:1,preparation_time:"00:05:00"}},v=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={name:"",type:"pizza",pizza:{no_of_slices:1,diameter:8,preparation_time:"00:20:00"},soup:{spiciness_scale:1,preparation_time:"00:10:00"},sandwich:{slices_of_bread:1,preparation_time:"00:05:00"}},e.handleChangeName=function(t){var a=t.currentTarget,n=a.name,s=a.value;e.setState(Object(j.a)({},n,s))},e.handleChangeDish=function(t){var a=t.currentTarget.value;e.setState({type:a})},e.handleChangeOptions=function(t){var a=t.currentTarget,n=a.name,s=a.value,i=e.state.type;e.setState((function(e){return Object(j.a)({},i,Object(b.a)(Object(b.a)({},e[i]),{},Object(j.a)({},n,Number(s))))}))},e.createNotification=function(e){switch(e){case"info":f.NotificationManager.info("All fields should be required");break;case"success":f.NotificationManager.success("Thank you for your order");break;case"warning":f.NotificationManager.warning("you can choose from 1 to 8","Please choose correct quantity of slices",3e3);break;case"error":f.NotificationManager.error("Sorry, something went wrong, please try again later");break;default:return}},e.handleSubmit=function(){var t=Object(u.a)(d.a.mark((function t(a){var n,s,i,c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state,s=n.name,i=n.preparation_time,c=n.type,""!==s){t.next=5;break}return e.createNotification("info"),t.abrupt("return");case 5:if(!(e.state.pizza.no_of_slices>8||e.state.sandwich.no_of_slices>8)){t.next=8;break}return e.createNotification("warning"),t.abrupt("return");case 8:return r=Object(b.a)({name:s,preparation_time:i,type:c},e.state[c]),t.prev=9,t.next=12,O.a.post("https://frosty-wood-6558.getsandbox.com:443/dishes",r);case 12:e.createNotification("success"),setTimeout((function(){e.props.onClose()}),1e3),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(9),e.createNotification("error"),setTimeout((function(){e.props.onClose()}),1e3);case 20:e.resetForm();case 21:case"end":return t.stop()}}),t,null,[[9,16]])})));return function(e){return t.apply(this,arguments)}}(),e.resetForm=function(){e.setState(Object(b.a)({},x))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.type,n=e.pizza,s=n.no_of_slices,i=n.diameter,c=e.soup.spiciness_scale,r=e.sandwich.slices_of_bread;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("form",{className:"form_order",children:[Object(g.jsxs)("label",{className:"label",children:["Name",Object(g.jsx)("input",{className:"input",type:"text",value:t,name:"name",onChange:this.handleChangeName})]}),Object(g.jsxs)("label",{className:"label",children:["Dish type:",Object(g.jsxs)("select",{className:"input",onChange:this.handleChangeDish,children:[Object(g.jsx)("option",{value:"pizza",children:"pizza"}),Object(g.jsx)("option",{value:"soup",children:"soup"}),Object(g.jsx)("option",{value:"sandwich",children:"sandwich"})]})]}),"pizza"===a&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("label",{className:"label",children:["Slices",Object(g.jsx)("input",{className:"input",type:"number",value:s,name:"no_of_slices",onChange:this.handleChangeOptions,min:"1",max:"8",step:"1"})]}),Object(g.jsx)("p",{className:"label",children:"Diameter:"}),Object(g.jsxs)("div",{className:"diametr",children:[Object(g.jsxs)("label",{children:[Object(g.jsx)("input",{type:"radio",value:"8",name:"diameter",checked:8===i,onChange:this.handleChangeOptions}),"8"]}),Object(g.jsxs)("label",{children:[Object(g.jsx)("input",{type:"radio",value:"16",name:"diameter",checked:16===i,onChange:this.handleChangeOptions})," ","16"]}),Object(g.jsxs)("label",{children:[Object(g.jsx)("input",{type:"radio",value:"26",name:"diameter",checked:26===i,onChange:this.handleChangeOptions})," ","26"]}),Object(g.jsxs)("label",{children:[Object(g.jsx)("input",{type:"radio",value:"30",name:"diameter",checked:30===i,onChange:this.handleChangeOptions}),"30"]}),Object(g.jsxs)("label",{children:[Object(g.jsx)("input",{type:"radio",value:"38",name:"diameter",checked:38===i,onChange:this.handleChangeOptions})," ","38"]})]}),Object(g.jsxs)("p",{className:"label",children:["Preparation time: ",this.state.pizza.preparation_time]})]}),"soup"===a&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("label",{className:"label",children:[Object(g.jsxs)("p",{children:["Spiciness scale: ",c]})," 1",Object(g.jsx)("input",{type:"range",min:"1",max:"10",name:"spiciness_scale",value:c,onChange:this.handleChangeOptions,className:"input_range"}),"10"]}),Object(g.jsxs)("p",{className:"label",children:["Preparation time: ",this.state.soup.preparation_time]})]}),"sandwich"===a&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("label",{className:"label",children:["Slices",Object(g.jsx)("input",{className:"input",type:"number",value:r,name:"slices_of_bread",onChange:this.handleChangeOptions,min:"1",max:"8",step:"1"})]}),Object(g.jsxs)("p",{className:"label",children:["Preparation time: ",this.state.sandwich.preparation_time]})]}),Object(g.jsx)("button",{className:"btn_submit",type:"submit",onClick:this.handleSubmit,children:"Make an order"})]}),Object(g.jsx)(f.NotificationContainer,{})]})}}]),a}(n.Component),y=(a(60),document.querySelector("#modal-root")),_=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(i.createPortal)(Object(g.jsx)("div",{className:"modal__backdrop",onClick:this.handleBackdropClick,children:Object(g.jsx)("div",{className:"modal__content",children:this.props.children})}),y)}}]),a}(n.Component),C=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={showModal:!1},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.showModal;return Object(g.jsxs)(g.Fragment,{children:[!e&&Object(g.jsx)("button",{className:"btn_open",type:"button",onClick:this.toggleModal,children:"open the menu"}),e&&Object(g.jsx)(_,{onClose:this.toggleModal,children:Object(g.jsx)(v,{onClose:this.toggleModal})})]})}}]),a}(n.Component);c.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(C,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.49b407fb.chunk.js.map